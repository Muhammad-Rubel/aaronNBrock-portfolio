<script lang="ts">
	import Star from '../Svg/Star.svelte';
	import '@splidejs/svelte-splide/css';
	import { Splide, SplideSlide } from '@splidejs/svelte-splide';
	import type { ITestimonial } from '$lib/types/generalTypes';

	const testimonials: ITestimonial[] = [
		{
			name: 'Gregory Patmore',
			comment:
				"Love having Aaron on my delivery team. He's very much on top of things, often getting things done before we realize it. Moreover, he's been fantastic at collaborating with other coworkers on the delivery team as well as running meetings with client stakeholders. We've gotten great feedback on him personally from the client.",
			time: 'Sep 21, 2020',
			star: 5
		},
		{
			name: 'Paul Kordes',
			comment:
				'Aaron immediately jumped in suggesting Postgres for storing TF state which we ended up using at the customer! Now in my first engagement with him he has jumped right back in assisting with k8s installs of Jenkins and Artifactory. He has patiently helped me out with some things about Rancher I did not know and paired throughout.  He is super fun and easy to work with. He very quickly figured out every bump in the road with the helm installs.',
			time: 'Sep 23, 2020',
			star: 5
		},
		{
			name: 'Jason Lutz',
			comment:
				"Working with Aaron was a great experience, he had a lot of patience with me and I saw my coding skills improved greatly. Also, Aaron's presentation skills are excellent which makes demos fun. Keep being an enthusiastic influence!",
			time: 'Sep 22, 2020',
			star: 5
		},
		{
			name: 'Henry Gallo',
			comment:
				'Aaron is an outstanding technical driven person, I have seen Aaron grow in multiple areas including his interaction with the stakeholder. He earns the teams and stakeholder trust in every engagement he has ever been on. Time after time he has proven to have excellent technical chaps. For Aaron "There is always I way" I personally would take Aaron with me on any engagement, should the opportunity present itself. Aaon is a very responsible individual and takes feedback and applies his learnings almost immediately.',
			time: 'Oct 25, 2020',
			star: 5
		}
	];

	const options = {
		type: 'slide',
		perPage: 2,
		perMove: 1,
		gap: '3rem',
		arrows: false,
		pagination: true,
		autoplay: true,
		interval: 5000,
		breakpoints: {
			1023: {
				perPage: 1,
				gap: '1rem'
			}
		},
		classes: {
			// Add classes for pagination.
			pagination: 'splide__pagination testimonial-slide-pagination', // container
			page: 'splide__pagination__page testimonial-slide-page' // each button
		}
	};
</script>

<section id="testimonial" class="relative bg-gray-10 dark:bg-gray">
	<div class="absolute top-0 left-0 right-0 text-white dark:text-dark">
		<svg viewBox="0 0 1920 79"
			><path d="M0 0h1920v79L0 0z" data-name="Path 1450" fill="currentColor" /></svg
		>
	</div>

	<div
		class="container pt-[100px] pb-[92px] md:py-[50px] lg:pt-[146px] lg:pb-[130px] xl:pt-[170px] xl:pb-[150px] overflow-hidden"
	>
		<div>
			<span class="top-title text-center w-full inline-block">Testimonials</span>
			<h2 class="h2 text-center">What People Are Saying About Me?</h2>
		</div>

		<div class="mt-12">
			<Splide {options}>
				{#each testimonials as item, i}
					<SplideSlide>
						<div class="bg-white dark:bg-dark py-12 px-8 md:py-[60px] md:px-12 rounded-[20px]">
							<div>
								{#each Array(item.star) as star, i}
									<Star classNames="w-5 h-5 text-[#ffc219] inline-block fill-[#ffc219]" />
								{/each}
							</div>

							<p class="mt-6 mb-10">{item.comment}</p>

							<div>
								<span
									class="text-base leading-none text-secondary dark:text-light font-bold pre-line-top-title"
									>{item.name}</span
								>
								<span class="text-base leading-none text-[#7e7e8a] dark:text-light">
									| {item.time}</span
								>
							</div>
						</div>
					</SplideSlide>
				{/each}
			</Splide>
		</div>
	</div>
</section>

<style lang="scss">
	:global(.testimonial-slide-pagination) {
		@apply -bottom-[4rem];
	}

	:global(.testimonial-slide-page) {
		background-color: #c2c8cc !important;
	}

	:global(.testimonial-slide-pagination .is-active) {
		background-color: #400080 !important;
		transform: none;
	}
</style>
